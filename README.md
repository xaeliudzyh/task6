# Курс основ программирования на МКН СПбГУ
## Занятие 5: исключения и логирование

Наша цель на этом занятии — освоить работу с исключениями и логированием.

### План занятия

1. Создание индивидуального репозитория для занятия на GitHub и его импорт в локальный проект
2. Локальная работа с проектом: редактирование, запуск программ и запуск тестов
3. Создание пулл-реквеста (на ветку `task`) для запуска автоматической проверки решений на GitHub.
**Важно**: комментарий к пулл-реквесту должен содержать примеры работы программ (с конкретными
входными и выходными данными).
   
### Задания

#### Задание 1

В этом задании требуется реализовать потоковое преобразование данных в соответствии с заданной схемой. 
На вход программе подаётся набор параметров командной строки:

* имя текстового файла в каждой строке которого записана схема преобразования — последовательность 
символов `'*'` и `'/'` произвольной длины (например, `"*/"`), например:
```
*/
***
/
/*
```
* имя текстового файла, в каждой строке которого записано соответствующее преобразованию количество неотрицательных 
целых чисел, разделённых запятой, например:
```
2,4,3
5,2,1,2
1,0
5,5,2
```
* имя выходного текстового файла;
* дополнительные параметры, регулирующие стратегию обработки проблемных ситуаций.

Необходимо выполнить соответствующие вычисления над числами из каждой строки (умножение и целочисленное деление),
создать выходной файл и записать в него результаты в следующем формате, например:
```
2*4/3=2
5*2*1*2=20
1/0 *** DIVBYZERO
5/5*2=2
```

Программа должна предусматривать и корректно обрабатывать все возможные проблемные ситуации: 

* некорректность схемы преобразования
* отсутствие входного файла
* разное количество строк во входных файлах
* некорректный формат строк во входных файлах
* несоответствие количества чисел в соответствующей строке второго файла выполняемому преобразованию
* невозможность создать выходной файл (или файл с таким именем уже существует)

Перед выполнением задания следует разработать стратегию обработки проблемных ситуаций. 
Конкретные способы обработки должны регулироваться передаваемыми программе на вход параметрами.

**Замечание 1.** Вообще говоря, эта задача допускает предварительную проверку корректности практически всех входных данных, но для 
большего соответствия реальным задачам предположим, что это невозможно. В частности, будем считать, что мы не можем
проверить корректность схемы преобразования заранее, не можем также и определить, соответствует ли ему имеющееся
количество чисел. Эти ограничения уже частично отражены в сигнатурах функций. В частности, если функция возвращает значение 
типа `Int`, то обо всех обнаруженных в ней проблемах мы вынуждены сигнализировать выбрасыванием исключений.

**Замечание 2.** Цель задания состоит в изучении приемов работы с исключениями с одной стороны и 
написании программы, устойчивой ко всем возможным проблемным ситуациям, с другой. Поэтому существенная 
часть работы при его выполнении должна заключаться в идентификации и описании собственными классами исключений
этих проблемных ситуаций (см. файл `exceptions.kt` для примера), а также разработке стратегии их обработки 
(как именно программа должна на них реагировать). Практически любая обработка исключения должна сопровождаться
логированием.

**Замечание 3.** Все функции должны быть тщательно протестированы. Примеры тестирования с точки зрения потенциально
генерируемых исключений приведены в [функции `testApplyOperation()`](./task1/src/test/kotlin/Task1Test.kt).

#### Задание 2

Напишите программу, работающую в следующих четырёх режимах:

* генерация большого текстового файла, каждая строка которого содержит по два длинных целых числа;
* вычисление наибольшего общего делителя для каждой пары длинных целых чисел из заданного текстового файла 
  с сохранением в лог-файл информации о начале и конце вычислений для каждой пары длинных целых чисел;
* многократный запуск программы в первом и втором режимах;
* анализ содержимого лог-файла по всем запускам с целью вычисления среднего времени вычисления наибольшего общего делителя.

Не забудьте организовать модульное тестирование и обработку исключительных ситуаций.

### Начисление баллов за занятие

* Решено задание 1: 4 балла
* Решены задания 1 и 2: 8 баллов
